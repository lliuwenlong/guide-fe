---
title: 平台实践
sidebar_label: 平台实践
---

根据目标用户和项目目标确定操作系统、浏览器的支持版本范围，以进一步确认构建的支持目标。

## 一、GBS

基于[GBS](https://github.com/yui/yui3/wiki/Graded-Browser-Support)（[中文](https://github.com/cssmagic/blog/issues/47)，[《YUI Target Environments》](https://github.com/yui/yui3/wiki/YUI-Target-Environments)）理论支持，使用“容错”工程的理念平衡渐进增强（侧重于内容）和优雅降级（侧重于表现），制定三个级别：A 级支持、C 级支持和 X 级支持（[数据来源](https://tongji.baidu.com/research/site)），以提升开发和测试的效率，同时最大的“支持”好用户。

> “支持”不表示所有人得到同样的结果。期望两个使用不同浏览器的用户得到完全一致的体验，这实际上违背了（或者说否认了）Web 多样性的本质。要求向所有用户提供相同的体验，这恰恰成为一道人为的壁垒，阻碍了用户的参与。内容的可用性和可访问性才是我们的首要目标。

### 1.1 A 级
A 级表示最高的支持程度。充分利用现代 Web 标准的强大能力，A 级体验会提供先进的产品功能和完整的视觉效果。

A 级浏览器是已知的、有能力的、现代的和常见的。QA 会测试所有 C 级浏览器，并会把 bug 标记为高优先级。

### 1.2 C 级
C 级浏览器是已知的、能力不足的、过时的和不常见的。QA 会抽样测试 C 级浏览器，并会把 bug 标记为高优先级。

C 级是最基本的支持程度，只提供核心内容和功能。它有时也被称作“基础支持”。内容和体验的载体无非就是语义化的 HTML，虽然没有视觉装饰或高级功能作为增强，但它是高度可访问的，且具备向前和向后的兼容性。样式层和行为层将被忽略。

### 1.3 X 级
X 级浏览器就是那些没有被划为其它两类的浏览器。

X 级支持主要面向那些未知的、非主流的或冷僻的浏览器，也包括那些已经停止开发的浏览器。被判为 X 级的浏览器被假定为有能力的。


## 二、管理台项目A级浏览器定义表

后台类项目默认支持Windows、Mac OS两个操作系统上的A类浏览器，另外随着高分屏的普及，需要考虑操作系统针对硬件的默认缩放比例（在BOM中使用`devicePixelRatio`属性获取）。

| 操作系统   | 浏览器              | 屏幕尺寸（px） + 缩放（倍，1.5倍即`devicePixelRatio`=1.5） |
|------------|---------------------|-----------------|
| Windows 7+ | Edge 最新两个版本   | 1366 x 768 + 1倍，1920 x 1080 + 1倍，1920 x 1080 + 1.5倍, 3840 x 2160 + 2倍 |
| Windows 7+ | Chrome 最新两个版本 | 1366 x 768 + 1倍，1920 x 1080 + 1倍，1920 x 1080 + 1.5倍, 3840 x 2160 + 2倍 |
| Mac OS     | Safari 最新两个版本 | 2560 x 1600 + 2倍，2880 x 1800 + 2倍，1920 x 1080 + 1倍，1920 x 1080 + 1.5倍, 3840 x 2160 + 2倍 |
| Mac OS     | Chrome 最新两个版本 | 2560 x 1600 + 2倍，2880 x 1800 + 2倍，1920 x 1080 + 1倍，1920 x 1080 + 1.5倍, 3840 x 2160 + 2倍 |

### 2.1 说明
浏览器中`screen.width`和`screen.height`获取的宽高，是浏览器中的像素单位（有点类似于Android中设备独立像素），上述屏幕尺寸，等价的浏览器中的像素宽高分别为：
1. “2560 x 1600 + 2倍”等价于“1280 x 800”，典型设备是13寸MacBook Pro；
2. “2880 x 1800 + 2倍”等价于“1440 x 900”；，典型设备是15寸MacBook Pro（默认可用分辨率是“1680 x 1050”；
3. “1920 x 1080 + 1.5倍”等价于“1280 x 800”；
4. “3840 x 2160 + 2倍”等价于“1920 x 1080”。

在浏览器项目的适配中，屏幕宽度时关键因素，所以需要适配的浏览器最大宽度是：1280、1366、1440、1920四种。
